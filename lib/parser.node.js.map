{"version":3,"sources":["webpack/bootstrap","./src/json2xml.js","./src/nimndata.js","./src/node2json.js","./src/node2json_str.js","./src/parser.js","./src/util.js","./src/validator.js","./src/xmlNode.js","./src/xmlstr2xmlnode.js"],"names":["buildOptions","defaultOptions","attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","a","attrValueProcessor","props","Parser","options","isAttribute","attrPrefixLen","length","isCDATA","replaceCDATAstr","replaceCDATAarr","indentate","tagEndChar","newLine","buildTextNode","buildEmptyTextNode","buildObjNode","buildEmptyObjNode","buildTextValNode","buildObjectNode","prototype","parse","jObj","j2x","val","level","attrStr","keys","Object","len","i","key","attr","Array","isArray","arrLen","j","item","result","Ks","L","str","cdata","replace","join","v","includes","repeat","name","startsWith","substr","module","exports","char","String","fromCharCode","chars","nilChar","missingChar","nilPremitive","missingPremitive","emptyChar","emptyValue","boundryChar","objStart","arrStart","arrayEnd","charsArr","_e","node","e_schema","undefined","getValue","hasValidData","hasData","itemSchema","arr_len","arr_i","r","processValue","attrsMap","child","isAppChar","ch","indexOf","x2j","convert2nimn","util","convertToJson","isEmptyObject","isExist","merge","index","tagname","tag","push","convertToJsonString","_cToJsonStr","stringval","isNaN","nodeToJson","xmlToNodeobj","x2xmlnode","xmlData","getTraversalObj","convertTonimn","validate","j2xParser","parseToNimn","schema","getAllMatches","string","regex","matches","match","exec","allmatches","doesMatch","doesNotMatch","obj","target","newOptions","allowBooleanAttributes","localeRange","tags","tagFound","regxAttrName","RegExp","regxTagName","readPI","err","readCommentAndCDATA","closingTag","tagName","trim","substring","validateTagName","code","msg","readAttributeStr","value","isValid","validateAttributeString","otg","pop","JSON","stringify","start","angleBracketsCount","doubleQuote","singleQuote","startChar","validAttrStrRegxp","attrNames","attrName","validateAttrName","hasOwnProperty","parent","addChild","xmlNode","TagType","regx","ignoreNameSpace","parseNodeValue","parseAttributeValue","arrayMode","trimValues","xmlObj","currentNode","tagsRegx","nextTag","tagType","checkForTagType","CLOSING","processTagValue","CDATA","childNode","buildAttributesMap","SELF","parseValue","parseTrueNumberOnly","OPENING","resolveNameSpace","split","prefix","charAt","shouldParse","parsed","Number","parseInt","parseFloat","attrsRegx","attrs","attrCollection"],"mappings":"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","file":"./lib/parser.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/parser.js\");\n","\"use strict\";\n//parse Empty Node as self closing node\nconst buildOptions = require(\"./util\").buildOptions;\n\nconst defaultOptions = {\n    attributeNamePrefix: \"@_\",\n    attrNodeName: false,\n    textNodeName: \"#text\",\n    ignoreAttributes: true,\n    cdataTagName: false,\n    cdataPositionChar: \"\\\\c\",\n    format: false,\n    indentBy: \"  \",\n    supressEmptyNode: false,\n    tagValueProcessor: function(a) {return a},\n    attrValueProcessor: function(a) {return a}\n};\n\nconst props = [\n    \"attributeNamePrefix\",\n    \"attrNodeName\",\n    \"textNodeName\",\n    \"ignoreAttributes\",\n    \"cdataTagName\",\n    \"cdataPositionChar\",\n    \"format\",\n    \"indentBy\",\n    \"supressEmptyNode\",\n    \"tagValueProcessor\",\n    \"attrValueProcessor\"\n]\n\nfunction Parser(options) {\n    this.options = buildOptions(options,defaultOptions,props);\n    if (this.options.ignoreAttributes || this.options.attrNodeName) {\n        this.isAttribute = function(/*a*/) { return false;};\n    } else {\n        this.attrPrefixLen = this.options.attributeNamePrefix.length;\n        this.isAttribute = isAttribute;\n    }\n    if (this.options.cdataTagName) {\n        this.isCDATA = isCDATA;\n    } else {\n        this.isCDATA = function(/*a*/) { return false;};\n    }\n    this.replaceCDATAstr = replaceCDATAstr;\n    this.replaceCDATAarr = replaceCDATAarr;\n\n    if (this.options.format) {\n        this.indentate = indentate;\n        this.tagEndChar = \">\\n\";\n        this.newLine = \"\\n\";\n    } else {\n        this.indentate = function() { return \"\";};\n        this.tagEndChar = \">\";\n        this.newLine = \"\";\n    }\n\n    if (this.options.supressEmptyNode) {\n        this.buildTextNode = buildEmptyTextNode;\n        this.buildObjNode = buildEmptyObjNode;\n    } else {\n        this.buildTextNode = buildTextValNode;\n        this.buildObjNode = buildObjectNode;\n    }\n\n    this.buildTextValNode = buildTextValNode;\n    this.buildObjectNode = buildObjectNode;\n\n}\n\nParser.prototype.parse = function(jObj) {\n    return this.j2x(jObj, 0).val;\n};\n\nParser.prototype.j2x = function(jObj, level) {\n    let attrStr = \"\";\n    let val = \"\";\n    const keys = Object.keys(jObj);\n    const len = keys.length;\n    for (let i = 0; i < len; i++) {\n        const key = keys[i];\n        if (typeof jObj[key] === \"undefined\") {\n            // supress undefined node\n        }else if (jObj[key] === null) {\n            val += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n        }else if (typeof jObj[key] !== \"object\") {//premitive type\n            const attr = this.isAttribute(key);\n            if (attr) {\n                attrStr += \" \" + attr + \"=\\\"\" +  this.options.attrValueProcessor(\"\" + jObj[key]) + \"\\\"\";\n            } else if (this.isCDATA(key)) {\n                if (jObj[this.options.textNodeName]) {\n                    val += this.replaceCDATAstr(jObj[this.options.textNodeName], jObj[key]);\n                } else {\n                    val += this.replaceCDATAstr(\"\", jObj[key]);\n                }\n            } else {//tag value\n                if (key === this.options.textNodeName) {\n                    if (jObj[this.options.cdataTagName]) {\n                        //value will added while processing cdata\n                    } else {\n                        val +=  this.options.tagValueProcessor(\"\" + jObj[key]);\n                    }\n                } else {\n                    val += this.buildTextNode(jObj[key], key, \"\", level);\n                }\n            }\n        } else if (Array.isArray(jObj[key])) {//repeated nodes\n            if (this.isCDATA(key)) {\n              val += this.indentate(level)\n                if (jObj[this.options.textNodeName]) {\n                  val += this.replaceCDATAarr(jObj[this.options.textNodeName], jObj[key]);\n                } else {\n                  val += this.replaceCDATAarr(\"\", jObj[key]);\n                }\n            } else {//nested nodes\n                const arrLen = jObj[key].length;\n                for (let j = 0; j < arrLen; j++) {\n                    const item = jObj[key][j];\n                    if (typeof item === \"undefined\") {\n                        // supress undefined node\n                    }else if(item === null){\n                        val += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n                    }else if (typeof item === \"object\") {\n                        const result = this.j2x(item, level + 1);\n                        val += this.buildObjNode(result.val, key, result.attrStr, level);\n                    } else {\n                        val += this.buildTextNode(item, key, \"\", level);\n                    }\n                }\n            }\n        } else {//nested node\n            if (this.options.attrNodeName && key === this.options.attrNodeName) {\n                const Ks = Object.keys(jObj[key]);\n                const L = Ks.length;\n                for (let j = 0; j < L; j++) {\n                    attrStr += \" \" + Ks[j] + \"=\\\"\" + this.options.tagValueProcessor(\"\" + jObj[key][Ks[j]]) + \"\\\"\";\n                }\n            } else {\n                const result = this.j2x(jObj[key], level + 1);\n                val += this.buildObjNode(result.val, key, result.attrStr, level);\n            }\n        }\n    }\n    return {attrStr: attrStr, val: val};\n};\n\nfunction replaceCDATAstr(str, cdata) {\n    str = this.options.tagValueProcessor(\"\" + str);\n    if (this.options.cdataPositionChar === \"\" || str === \"\") {\n        return str + \"<![CDATA[\" + cdata + \"]]\" + this.tagEndChar;\n    } else {\n        return str.replace(this.options.cdataPositionChar, \"<![CDATA[\" + cdata + \"]]\" + this.tagEndChar);\n    }\n}\n\nfunction replaceCDATAarr(str, cdata) {\n    str = this.options.tagValueProcessor(\"\" + str);\n    if (this.options.cdataPositionChar === \"\" || str === \"\") {\n        return str + \"<![CDATA[\" + cdata.join(\"]]><![CDATA[\") + \"]]\" + this.tagEndChar;\n    } else {\n        for (let v in cdata) {\n            str = str.replace(this.options.cdataPositionChar, \"<![CDATA[\" + cdata[v] + \"]]>\");\n        }\n        return str + this.newLine;\n    }\n}\n\nfunction buildObjectNode(val, key, attrStr, level) {\n  if (attrStr && !val.includes('<')) {\n    return this.indentate(level)\n          + \"<\" + key + attrStr\n          + \">\"\n          + val\n          //+ this.newLine\n          // + this.indentate(level)\n          + \"</\" + key + this.tagEndChar;\n  } else {\n    return this.indentate(level)\n          + \"<\" + key + attrStr\n          + this.tagEndChar\n          + val\n          //+ this.newLine\n          + this.indentate(level)\n          + \"</\" + key + this.tagEndChar;\n  }\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n    if (val !== \"\") {\n        return this.buildObjectNode(val, key, attrStr, level);\n    } else {\n        return this.indentate(level)\n               + \"<\" + key + attrStr\n               + \"/\"\n               + this.tagEndChar;\n        //+ this.newLine\n    }\n}\n\nfunction buildTextValNode(val, key, attrStr, level) {\n    return this.indentate(level) + \"<\" + key + attrStr + \">\" + this.options.tagValueProcessor(\"\" + val) + \"</\" + key + this.tagEndChar;\n}\n\nfunction buildEmptyTextNode(val, key, attrStr, level) {\n    if (val !== \"\") {\n        return this.buildTextValNode(val, key, attrStr, level);\n    } else {\n        return this.indentate(level) + \"<\" + key + attrStr + \"/\" + this.tagEndChar;\n    }\n}\n\nfunction indentate(level) {\n    return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name/*, options*/) {\n    if (name.startsWith(this.options.attributeNamePrefix)) {\n        return name.substr(this.attrPrefixLen);\n    } else {\n        return false;\n    }\n}\n\nfunction isCDATA(name) {\n    return name === this.options.cdataTagName;\n}\n\n//formatting\n//indentation\n//\\n after each closing or self closing tag\n\nmodule.exports = Parser;\n","\"use strict\";\nconst char = function(a) {\n    return String.fromCharCode(a);\n};\n\nconst chars = {\n    nilChar : char(176),\n    missingChar : char(201),\n    nilPremitive : char(175),\n    missingPremitive : char(200),\n\n    emptyChar : char(178),\n    emptyValue:  char(177),//empty Premitive\n    \n    boundryChar : char(179),\n    \n    objStart: char(198),\n    arrStart: char(204),\n    arrayEnd: char(185),\n};\n\nconst charsArr = [\n    chars.nilChar,\n    chars.nilPremitive,\n    chars.missingChar,\n    chars.missingPremitive,\n    chars.boundryChar,\n    chars.emptyChar,\n    chars.emptyValue,\n    chars.arrayEnd,\n    chars.objStart,\n    chars.arrStart\n];\n\nconst _e = function(node, e_schema, options) {\n    if (typeof e_schema === \"string\") {//premitive\n        if (node && node[0] && node[0].val !== undefined) {\n            return getValue(node[0].val, e_schema);\n        } else {\n            return getValue(node, e_schema);\n        }\n    } else {\n        const hasValidData = hasData(node);\n        if (hasValidData === true) {\n            let str = \"\";\n            if (Array.isArray(e_schema)) {\n                //attributes can't be repeated. hence check in children tags only\n                str += chars.arrStart;\n                const itemSchema = e_schema[0];\n                //var itemSchemaType = itemSchema;\n                const arr_len = node.length;\n\n                if (typeof itemSchema === \"string\") {\n                    for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n                        const r = getValue(node[arr_i].val, itemSchema);\n                        str = processValue(str, r);\n                    }\n                } else {\n                    for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n                        const r = _e(node[arr_i], itemSchema, options);\n                        str = processValue(str, r);\n                    }\n                }\n                str += chars.arrayEnd;//indicates that next item is not array item\n            } else {//object\n                str += chars.objStart;\n                const keys = Object.keys(e_schema);\n                if (Array.isArray(node)) {\n                    node = node[0];\n                }\n                for (let i in keys) {\n                    const key = keys[i];\n                    //a property defined in schema can be present either in attrsMap or children tags\n                    //options.textNodeName will not present in both maps, take it's value from val\n                    //options.attrNodeName will be present in attrsMap\n                    let r;\n                    if (!options.ignoreAttributes && node.attrsMap && node.attrsMap[key]) {\n                        r = _e(node.attrsMap[key], e_schema[key], options);\n                    } else if (key === options.textNodeName) {\n                        r = _e(node.val, e_schema[key], options);\n                    } else {\n                        r = _e(node.child[key], e_schema[key], options);\n                    }\n                    str = processValue(str, r);\n                }\n            }\n            return str;\n        } else {\n            return hasValidData;\n        }\n    }\n};\n\nconst getValue = function(a/*, type*/) {\n    switch (a) {\n        case undefined:\n            return chars.missingPremitive;\n        case null:\n            return chars.nilPremitive;\n        case \"\":\n            return chars.emptyValue;\n        default:\n            return a;\n    }\n};\n\nconst processValue = function(str, r) {\n    if (!isAppChar(r[0]) && !isAppChar(str[str.length - 1])) {\n        str += chars.boundryChar;\n    }\n    return str + r;\n};\n\nconst isAppChar = function(ch) {\n    return charsArr.indexOf(ch) !== -1;\n};\n\nfunction hasData(jObj) {\n    if (jObj === undefined) {\n        return chars.missingChar;\n    } else if (jObj === null) {\n        return chars.nilChar;\n    } else if (jObj.child && Object.keys(jObj.child).length === 0 && (!jObj.attrsMap || Object.keys(jObj.attrsMap).length === 0)) {\n        return chars.emptyChar;\n    } else {\n        return true;\n    }\n}\n\nconst x2j = require(\"./xmlstr2xmlnode\");\nconst buildOptions = require(\"./util\").buildOptions;\n\nconst convert2nimn = function(node, e_schema, options) {\n    options = buildOptions(options,x2j.defaultOptions,x2j.props);\n    return _e(node, e_schema, options);\n};\n\nexports.convert2nimn = convert2nimn;\n","\"use strict\";\n\nconst util = require(\"./util\");\n\nconst convertToJson =function(node, options) {\n    const jObj = {};\n\n    //when no child node or attr is present\n    if ((!node.child  ||  util.isEmptyObject(node.child)) && (!node.attrsMap || util.isEmptyObject(node.attrsMap))) {\n        return util.isExist(node.val) ? node.val : \"\";\n    } else { //otherwise create a textnode if node has some text\n        if (util.isExist(node.val)) {\n            if (!(typeof node.val === \"string\" && (node.val === \"\" || node.val === options.cdataPositionChar))) {\n                jObj[options.textNodeName] = node.val;\n            }\n        }\n    }\n\n    util.merge(jObj, node.attrsMap);\n\n    const keys = Object.keys(node.child);\n    for (let index = 0; index < keys.length; index++) {\n        var tagname = keys[index];\n        if (node.child[tagname] && node.child[tagname].length > 1) {\n            jObj[tagname] = [];\n            for (var tag in node.child[tagname]) {\n                jObj[tagname].push( convertToJson(node.child[tagname][tag], options) );\n            }\n        } else {\n            jObj[tagname] = convertToJson(node.child[tagname][0], options);\n        }\n    }\n    \n    //add value\n    return jObj;\n};\n\nexports.convertToJson = convertToJson;","\"use strict\";\n\nconst util = require(\"./util\");\nconst buildOptions = require(\"./util\").buildOptions;\nconst x2j = require(\"./xmlstr2xmlnode\");\n\n//TODO: do it later\nconst convertToJsonString = function(node, options) {\n    options = buildOptions(options,x2j.defaultOptions,x2j.props);\n\n    options.indentBy = options.indentBy || \"\";\n    return _cToJsonStr(node, options,0);\n}\n\nconst _cToJsonStr = function(node, options,level) {\n    let jObj = \"{\";\n\n    //traver through all the children\n    const keys = Object.keys(node.child);\n    \n    for (let index = 0; index < keys.length; index++) {\n        var tagname = keys[index];\n        if (node.child[tagname] && node.child[tagname].length > 1) {\n            jObj  += \"\\\"\" + tagname + \"\\\" : [ \";\n            for (var tag in node.child[tagname]) {\n                jObj += _cToJsonStr(node.child[tagname][tag], options) + \" , \";\n            }\n            jObj = jObj.substr(0,jObj.length-1) + \" ] \"; //remove extra comma in last\n        } else {\n            jObj += \"\\\"\" +tagname + \"\\\" : \" + _cToJsonStr(node.child[tagname][0], options) + \" ,\";\n        }\n    }\n    util.merge(jObj, node.attrsMap);\n    //add attrsMap as new children\n    if (util.isEmptyObject(jObj)) {\n        return util.isExist(node.val) ? node.val : \"\";\n    } else {\n        if (util.isExist(node.val)) {\n            if (!(typeof node.val === \"string\" && (node.val === \"\" || node.val === options.cdataPositionChar))) {\n                jObj += \"\\\"\" + options.textNodeName +\"\\\" : \" + stringval(node.val);\n            }\n        }\n    }\n    //add value\n    if(jObj[jObj.length-1] === \",\"){\n        jObj = jObj.substr(0,jObj.length-2);\n    }\n    return jObj + \"}\";\n};\n\nfunction stringval(v){\n    if(v === true || v === false || !isNaN(v)){\n        return v;\n    }else{\n        return \"\\\"\" + v + \"\\\"\";\n    }\n}\n\nfunction indentate(options, level) {\n    return options.indentBy.repeat(level);\n}\n\nexports.convertToJsonString = convertToJsonString;","\"use strict\";\n\nconst nodeToJson = require(\"./node2json\");\nconst xmlToNodeobj = require(\"./xmlstr2xmlnode\");\nconst x2xmlnode = require(\"./xmlstr2xmlnode\");\nconst buildOptions = require(\"./util\").buildOptions;\n\nexports.parse = function(xmlData, options) {\n    options = buildOptions(options, x2xmlnode.defaultOptions, x2xmlnode.props);\n    return nodeToJson.convertToJson(xmlToNodeobj.getTraversalObj(xmlData, options), options);\n};\nexports.convertTonimn = require(\"../src/nimndata\").convert2nimn;\nexports.getTraversalObj = xmlToNodeobj.getTraversalObj;\nexports.convertToJson = nodeToJson.convertToJson;\nexports.convertToJsonString = require(\"./node2json_str\").convertToJsonString;\nexports.validate = require(\"./validator\").validate;\nexports.j2xParser = require(\"./json2xml\");\nexports.parseToNimn = function (xmlData,schema,options){\n    return exports.convertTonimn(exports.getTraversalObj(xmlData,options), schema, options);\n};\n","\"use strict\";\n\nconst getAllMatches = function(string, regex) {\n    const matches = [];\n    let match = regex.exec(string);\n    while (match) {\n        const allmatches = [];\n        const len = match.length;\n        for (let index = 0; index < len; index++) {\n            allmatches.push(match[index]);\n        }\n        matches.push(allmatches);\n        match = regex.exec(string);\n    }\n    return matches;\n};\n\nconst doesMatch = function(string, regex) {\n    const match = regex.exec(string);\n    return !(match === null || typeof match === \"undefined\");\n};\n\nconst doesNotMatch = function(string, regex) {\n    return !doesMatch(string, regex);\n};\n\nexports.isExist = function(v) {\n    return typeof v !== \"undefined\";\n};\n\nexports.isEmptyObject = function(obj) {\n    return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a) {\n    if (a) {\n        const keys = Object.keys(a); // will return an array of own properties\n        const len = keys.length; //don't make it inline\n        for (let i = 0; i < len; i++) {\n            target[keys[i]] = a[keys[i]];\n        }\n    }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n    if (exports.isExist(v)) {\n        return v;\n    } else {\n        return \"\";\n    }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.buildOptions = function(options,defaultOptions,props) {\n    var newOptions = {};\n    if (!options) {\n        return defaultOptions; //if there are not options\n    }\n\n    for (let i = 0; i < props.length; i++) {\n        if ( options[props[i]] !== undefined) {\n            newOptions[props[i]] = options[props[i]];\n        }else{\n            newOptions[props[i]] = defaultOptions[props[i]];\n        }\n    }\n    return newOptions;\n};\n\nexports.doesMatch = doesMatch;\nexports.doesNotMatch = doesNotMatch;\nexports.getAllMatches = getAllMatches;\n","\"use strict\";\n\nconst util = require(\"./util\");\n\nconst defaultOptions = {\n    allowBooleanAttributes: false,         //A tag can have attributes without any value\n    localeRange:  \"a-zA-Z\"\n};\n\nconst props = [\"allowBooleanAttributes\", \"localeRange\"];\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function(xmlData, options) {\n    options = util.buildOptions(options,defaultOptions,props);\n\n    //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n    //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n    //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n\n    const tags = [];\n    let tagFound = false;\n    if (xmlData[0] === \"\\ufeff\") {  // check for byte order mark (BOM)\n      xmlData = xmlData.substr(1);\n    }\n    const regxAttrName = new RegExp(\"^[_w][\\\\w\\\\-.:]*$\".replace(\"_w\", \"_\" + options.localeRange));\n    const regxTagName = new RegExp(\"^([w]|_)[\\\\w.\\\\-_:]*\".replace(\"([w\", \"([\" + options.localeRange));\n    for (let i = 0; i < xmlData.length; i++) {\n\n        if (xmlData[i] === \"<\") { //starting of tag\n            //read until you reach to '>' avoiding any '>' in attribute value\n\n            i++;\n            if (xmlData[i] === \"?\") {\n                i = readPI(xmlData, ++i);\n                if (i.err) {\n                    return i;\n                }\n            } else if (xmlData[i] === \"!\") {\n                i = readCommentAndCDATA(xmlData, i);\n                continue;\n            } else {\n                let closingTag = false;\n                if (xmlData[i] === \"/\") {//closing tag\n                    closingTag = true;\n                    i++;\n                }\n                //read tagname\n                let tagName = \"\";\n                for (; i < xmlData.length &&\n                       xmlData[i] !== \">\" &&\n                       xmlData[i] !== \" \" &&\n                       xmlData[i] !== \"\\t\"; i++) {\n\n                    tagName += xmlData[i];\n                }\n                tagName = tagName.trim();\n                //console.log(tagName);\n\n                if (tagName[tagName.length - 1] === \"/\") {//self closing tag without attributes\n                    tagName = tagName.substring(0, tagName.length - 1);\n                    continue;\n                }\n                if (!validateTagName(tagName, regxTagName)) {\n                    return {err: {code: \"InvalidTag\", msg: \"Tag \" + tagName + \" is an invalid name.\"}};\n                }\n\n                const result = readAttributeStr(xmlData, i);\n                if (result === false) {\n                    return {err: {code: \"InvalidAttr\", msg: \"Attributes for \" + tagName + \" have open quote\"}};\n                }\n                let attrStr = result.value;\n                i = result.index;\n\n                if (attrStr[attrStr.length - 1] === \"/\") {//self closing tag\n                    attrStr = attrStr.substring(0, attrStr.length - 1);\n                    const isValid = validateAttributeString(attrStr, options, regxAttrName);\n                    if (isValid === true) {\n                        tagFound = true;\n                        //continue; //text may presents after self closing tag\n                    } else {\n                        return isValid;\n                    }\n                } else if (closingTag) {\n                    if (attrStr.trim().length > 0) {\n                        return {err: {code: \"InvalidTag\", msg: \"closing tag \" + tagName + \" can't have attributes or invalid starting.\"}};\n                    } else {\n                        const otg = tags.pop();\n                        if (tagName !== otg) {\n                            return {err: {code: \"InvalidTag\", msg: \"closing tag \" + otg + \" is expected inplace of \" + tagName + \".\"}};\n                        }\n                    }\n                } else {\n                    const isValid = validateAttributeString(attrStr, options, regxAttrName);\n                    if (isValid !== true) {\n                        return isValid;\n                    }\n                    tags.push(tagName);\n                    tagFound = true;\n                }\n\n                //skip tag text value\n                //It may include comments and CDATA value\n                for (i++; i < xmlData.length; i++) {\n                    if (xmlData[i] === \"<\") {\n                        if (xmlData[i + 1] === \"!\") {//comment or CADATA\n                            i++;\n                            i = readCommentAndCDATA(xmlData, i);\n                            continue;\n                        } else {\n                            break;\n                        }\n                    }\n                }//end of reading tag text value\n                if (xmlData[i] === \"<\") {\n                    i--;\n                }\n            }\n        } else {\n            if (xmlData[i] === \" \" || xmlData[i] === \"\\t\" || xmlData[i] === \"\\n\" || xmlData[i] === \"\\r\") {\n                continue;\n            }\n            return {err: {code: \"InvalidChar\", msg: \"char \" + xmlData[i] + \" is not expected .\"}};\n        }\n    }\n\n    if (!tagFound) {\n        return {err: {code: \"InvalidXml\", msg: \"Start tag expected.\"}};\n    } else if (tags.length > 0) {\n        return {err: {code: \"InvalidXml\", msg: \"Invalid \" + JSON.stringify(tags, null, 4).replace(/\\r?\\n/g, \"\") + \" found.\"}};\n    }\n\n    return true;\n};\n\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n    var start = i;\n    for (; i < xmlData.length; i++) {\n        if (xmlData[i] == \"?\" || xmlData[i] == \" \") {//tagname\n            var tagname = xmlData.substr(start, i - start);\n            if (i > 5 && tagname === \"xml\") {\n                return {err: {code: \"InvalidXml\", msg: \"XML declaration allowed only at the start of the document.\"}};\n            } else if (xmlData[i] == \"?\" && xmlData[i + 1] == \">\") {\n                //check if valid attribut string\n                i++;\n                break;\n            } else {\n                continue;\n            }\n        }\n    }\n    return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n    if (xmlData.length > i + 5 && xmlData[i + 1] === \"-\" && xmlData[i + 2] === \"-\") {//comment\n        for (i += 3; i < xmlData.length; i++) {\n            if (xmlData[i] === \"-\" && xmlData[i + 1] === \"-\" && xmlData[i + 2] === \">\") {\n                i += 2;\n                break;\n            }\n        }\n    } else if (xmlData.length > i + 8 &&\n               xmlData[i + 1] === \"D\" &&\n               xmlData[i + 2] === \"O\" &&\n               xmlData[i + 3] === \"C\" &&\n               xmlData[i + 4] === \"T\" &&\n               xmlData[i + 5] === \"Y\" &&\n               xmlData[i + 6] === \"P\" &&\n               xmlData[i + 7] === \"E\") {\n        let angleBracketsCount = 1;\n        for (i += 8; i < xmlData.length; i++) {\n            if (xmlData[i] === \"<\") {angleBracketsCount++;}\n            else if (xmlData[i] === \">\") {\n                angleBracketsCount--;\n                if (angleBracketsCount === 0) {\n                    break;\n                }\n            }\n        }\n    } else if (xmlData.length > i + 9 &&\n               xmlData[i + 1] === \"[\" &&\n               xmlData[i + 2] === \"C\" &&\n               xmlData[i + 3] === \"D\" &&\n               xmlData[i + 4] === \"A\" &&\n               xmlData[i + 5] === \"T\" &&\n               xmlData[i + 6] === \"A\" &&\n               xmlData[i + 7] === \"[\") {\n\n        for (i += 8; i < xmlData.length; i++) {\n            if (xmlData[i] === \"]\" && xmlData[i + 1] === \"]\" && xmlData[i + 2] === \">\") {\n                i += 2;\n                break;\n            }\n        }\n    }\n\n    return i;\n}\n\nvar doubleQuote = \"\\\"\";\nvar singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n    let attrStr = \"\";\n    let startChar = \"\";\n    for (; i < xmlData.length; i++) {\n        if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n            if (startChar === \"\") {\n                startChar = xmlData[i];\n            } else if (startChar !== xmlData[i]) {\n                //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n                continue;\n            } else {\n                startChar = \"\";\n            }\n        } else if (xmlData[i] === \">\") {\n            if (startChar === \"\") {\n                break;\n            }\n        }\n        attrStr += xmlData[i];\n    }\n    if (startChar !== \"\") {\n        return false;\n    }\n\n    return {value: attrStr, index: i};\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp(\"(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\\\"])(([\\\\s\\\\S])*?)\\\\5)?\", \"g\");\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options, regxAttrName) {\n    //console.log(\"start:\"+attrStr+\":end\");\n\n    //if(attrStr.trim().length === 0) return true; //empty string\n\n    const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n    const attrNames = [];\n\n    for (let i = 0; i < matches.length; i++) {\n        //console.log(matches[i]);\n\n        if (matches[i][1].length === 0) {//nospace before attribute name: a=\"sd\"b=\"saf\"\n            return {err: {code: \"InvalidAttr\", msg: \"attribute \" + matches[i][2] + \" has no space in starting.\"}};\n        } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {//independent attribute: ab\n            return {err: {code: \"InvalidAttr\", msg: \"boolean attribute \" + matches[i][2] + \" is not allowed.\"}};\n        }\n        /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n        const attrName = matches[i][2];\n        if (!validateAttrName(attrName, regxAttrName)) {\n            return {err: {code: \"InvalidAttr\", msg: \"attribute \" + attrName + \" is an invalid name.\"}};\n        }\n        if (!attrNames.hasOwnProperty(attrName)) {//check for duplicate attribute.\n            attrNames[attrName] = 1;\n        } else {\n            return {err: {code: \"InvalidAttr\", msg: \"attribute \" + attrName + \" is repeated.\"}};\n        }\n    }\n\n    return true;\n\n}\n\n// const validAttrRegxp = /^[_a-zA-Z][\\w\\-.:]*$/;\n\nfunction validateAttrName(attrName, regxAttrName) {\n    // const validAttrRegxp = new RegExp(regxAttrName);\n    return util.doesMatch(attrName, regxAttrName);\n}\n\n//const startsWithXML = new RegExp(\"^[Xx][Mm][Ll]\");\n//  startsWith = /^([a-zA-Z]|_)[\\w.\\-_:]*/;\n\nfunction validateTagName(tagname, regxTagName) {\n    /*if(util.doesMatch(tagname,startsWithXML)) return false;\n    else*/\n    return !util.doesNotMatch(tagname, regxTagName);\n}\n","\"use strict\";\n\nmodule.exports = function(tagname, parent, val) {\n    this.tagname = tagname;\n    this.parent = parent;\n    this.child = {};//child tags\n    this.attrsMap = {};//attributes map\n    this.val = val;//text only\n    this.addChild = function(child) {\n        if (this.child[child.tagname]) {//already presents\n            this.child[child.tagname].push(child);\n        } else {\n            this.child[child.tagname] = [child];\n        }\n    };\n};\n","\"use strict\";\n\nconst util = require(\"./util\");\nconst buildOptions = require(\"./util\").buildOptions;\nconst xmlNode = require(\"./xmlNode\");\nconst TagType = {\"OPENING\": 1, \"CLOSING\": 2, \"SELF\": 3, \"CDATA\": 4};\nlet regx = \"<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|(([\\\\w:\\\\-._]*:)?([\\\\w:\\\\-._]+))([^>]*)>|((\\\\/)(([\\\\w:\\\\-._]*:)?([\\\\w:\\\\-._]+))\\\\s*>))([^<]*)\";\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\n//treat cdata as a tag\n\nconst defaultOptions = {\n    attributeNamePrefix:    \"@_\",\n    attrNodeName:           false,\n    textNodeName:           \"#text\",\n    ignoreAttributes:       true,\n    ignoreNameSpace:        false,\n    allowBooleanAttributes: false,         //a tag can have attributes without any value\n    //ignoreRootElement : false,\n    parseNodeValue:         true,\n    parseAttributeValue:    false,\n    arrayMode:              false,\n    trimValues:             true,                                //Trim string values of tag and attributes\n    cdataTagName:           false,\n    cdataPositionChar:      \"\\\\c\",\n    localeRange:            \"\",\n    tagValueProcessor: function(a) {return a},\n    attrValueProcessor: function(a) {return a}\n    //decodeStrict: false,\n};\n\nexports.defaultOptions = defaultOptions;\n\nconst props = [\"attributeNamePrefix\", \"attrNodeName\", \"textNodeName\", \"ignoreAttributes\", \"ignoreNameSpace\", \"allowBooleanAttributes\", \"parseNodeValue\", \"parseAttributeValue\", \"arrayMode\", \"trimValues\", \"cdataTagName\", \"cdataPositionChar\", \"localeRange\", \"tagValueProcessor\", \"attrValueProcessor\", \"parseTrueNumberOnly\"];\nexports.props = props;\n\nconst getTraversalObj = function(xmlData, options) {\n    options = buildOptions(options,defaultOptions,props);\n    //xmlData = xmlData.replace(/\\r?\\n/g, \" \");//make it single line\n    xmlData = xmlData.replace(/<!--[\\s\\S]*?-->/g, \"\");//Remove  comments\n\n    const xmlObj = new xmlNode(\"!xml\");\n    let currentNode = xmlObj;\n\n    regx = regx.replace(/\\[\\\\w/g, \"[\" + options.localeRange + \"\\\\w\");\n    const tagsRegx = new RegExp(regx, \"g\");\n    let tag = tagsRegx.exec(xmlData);\n    let nextTag = tagsRegx.exec(xmlData);\n    while (tag) {\n        const tagType = checkForTagType(tag);\n\n        if (tagType === TagType.CLOSING) {\n            //add parsed data to parent node\n            if (currentNode.parent && tag[14]) {\n                currentNode.parent.val = util.getValue(currentNode.parent.val) + \"\" + processTagValue(tag[14], options);\n            }\n\n            currentNode = currentNode.parent;\n        } else if (tagType === TagType.CDATA) {\n            if (options.cdataTagName) {\n                //add cdata node\n                const childNode = new xmlNode(options.cdataTagName, currentNode, tag[3]);\n                childNode.attrsMap = buildAttributesMap(tag[8], options);\n                currentNode.addChild(childNode);\n                //for backtracking\n                currentNode.val = util.getValue(currentNode.val) + options.cdataPositionChar;\n                //add rest value to parent node\n                if (tag[14]) {\n                    currentNode.val += processTagValue(tag[14], options);\n                }\n            } else {\n                currentNode.val = (currentNode.val || \"\") + (tag[3] || \"\") + processTagValue(tag[14], options);\n            }\n        } else if (tagType === TagType.SELF) {\n            if (currentNode && tag[14]) {\n                currentNode.val = util.getValue(currentNode.val) + \"\" + processTagValue(tag[14], options);\n            }\n\n            const childNode = new xmlNode(options.ignoreNameSpace ? tag[7] : tag[5], currentNode, \"\");\n            if (tag[8] && tag[8].length > 1) {\n                tag[8] = tag[8].substr(0, tag[8].length - 1);\n            }\n            childNode.attrsMap = buildAttributesMap(tag[8], options);\n            currentNode.addChild(childNode);\n        } else {//TagType.OPENING\n            const childNode = new xmlNode(options.ignoreNameSpace ? tag[7] : tag[5], currentNode, processTagValue(tag[14], options));\n            childNode.attrsMap = buildAttributesMap(tag[8], options);\n            currentNode.addChild(childNode);\n            currentNode = childNode;\n        }\n\n        tag = nextTag;\n        nextTag = tagsRegx.exec(xmlData);\n    }\n\n    return xmlObj;\n};\n\nfunction processTagValue(val, options) {\n    if (val) {\n        if (options.trimValues) {\n            val = val.trim();\n        }\n        val = options.tagValueProcessor(val);\n        val = parseValue(val, options.parseNodeValue, options.parseTrueNumberOnly);\n    }\n\n    return val;\n}\n\nfunction checkForTagType(match) {\n    if (match[4] === \"]]>\") {\n        return TagType.CDATA;\n    } else if (match[10] === \"/\") {\n        return TagType.CLOSING;\n    } else if (typeof match[8] !== \"undefined\" && match[8].substr(match[8].length - 1) === \"/\") {\n        return TagType.SELF;\n    } else {\n        return TagType.OPENING;\n    }\n}\n\nfunction resolveNameSpace(tagname, options) {\n    if (options.ignoreNameSpace) {\n        const tags = tagname.split(\":\");\n        const prefix = tagname.charAt(0) === \"/\" ? \"/\" : \"\";\n        if (tags[0] === \"xmlns\") {\n            return \"\";\n        }\n        if (tags.length === 2) {\n            tagname = prefix + tags[1];\n        }\n    }\n    return tagname;\n}\n\nfunction parseValue(val, shouldParse, parseTrueNumberOnly) {\n    if (shouldParse && typeof val === \"string\") {\n        let parsed;\n        if (val.trim() === \"\" || isNaN(val)) {\n            parsed = val === \"true\" ? true : val === \"false\" ? false : val;\n        } else {\n            if(val.indexOf(\"0x\") !== -1){//support hexa decimal\n                parsed = Number.parseInt(val,16);\n            } else if (val.indexOf(\".\") !== -1) {\n                parsed = Number.parseFloat(val);\n            } else {\n                parsed = Number.parseInt(val, 10);\n            }\n            if(parseTrueNumberOnly){\n                parsed = String(parsed) === val ? parsed : val;\n                \n            }\n        }\n        return parsed;\n    } else {\n        if (util.isExist(val)) {\n            return val;\n        } else {\n            return \"\";\n        }\n    }\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp(\"([^\\\\s=]+)\\\\s*(=\\\\s*(['\\\"])(.*?)\\\\3)?\", \"g\");\n\nfunction buildAttributesMap(attrStr, options) {\n    if (!options.ignoreAttributes && typeof attrStr === \"string\") {\n        attrStr = attrStr.replace(/\\r?\\n/g, \" \");\n        //attrStr = attrStr || attrStr.trim();\n\n        const matches = util.getAllMatches(attrStr, attrsRegx);\n        const len = matches.length; //don't make it inline\n        const attrs = {};\n        for (let i = 0; i < len; i++) {\n            const attrName = resolveNameSpace(matches[i][1], options);\n            if (attrName.length) {\n                if (matches[i][4] !== undefined) {\n                    if (options.trimValues) {\n                        matches[i][4] = matches[i][4].trim();\n                    }\n                    matches[i][4] = options.attrValueProcessor(matches[i][4]);\n                    attrs[options.attributeNamePrefix + attrName] = parseValue(matches[i][4], options.parseAttributeValue, options.parseTrueNumberOnly);\n                } else if (options.allowBooleanAttributes) {\n                    attrs[options.attributeNamePrefix + attrName] = true;\n                }\n\n            }\n        }\n        if (!Object.keys(attrs).length) {\n            return;\n        }\n        if (options.attrNodeName) {\n            const attrCollection = {};\n            attrCollection[options.attrNodeName] = attrs;\n            return attrCollection;\n        }\n        return attrs;\n    }\n}\n\nexports.getTraversalObj = getTraversalObj;\n"],"sourceRoot":""}